---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "ioriver_traffic_policy Resource - terraform-provider-ioriver"
subcategory: ""
description: |-
  TrafficPolicy resource
---

# ioriver_traffic_policy (Resource)

TrafficPolicy resource

## Example Usage

```terraform
resource "ioriver_traffic_policy" "default_traffic_policy" {
  service    = ioriver_service.service.id
  type       = "Static"
  failover   = true
  is_default = true
  providers = [
    {
      service_provider = ioriver_service_provider.fastly.id
      weight           = 50
    },
    {
      service_provider = ioriver_service_provider.cloudfront.id
      weight           = 50
    }
  ]
  geos = [
    {
    },
  ]

  health_monitors = [
    ioriver_health_monitor.availability_monitor.id
  ]
  performance_monitors = [
    ioriver_health_monitor.perf_mon.id
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `failover` (Boolean) Is automatic failover enabled
- `geos` (Attributes Set) List of geos to apply this policy on (see [below for nested schema](#nestedatt--geos))
- `health_monitors` (Attributes Set) TrafficPolicy list of health monitors (see [below for nested schema](#nestedatt--health_monitors))
- `performance_monitors` (Attributes Set) TrafficPolicy list of performance monitors (see [below for nested schema](#nestedatt--performance_monitors))
- `providers` (Attributes Set) List of service provider within this policy (see [below for nested schema](#nestedatt--providers))
- `service` (String) The id of the service this TrafficPolicy belongs to
- `type` (String) TrafficPolicy type

### Optional

- `is_default` (Boolean) Is is the default TrafficPolicy

### Read-Only

- `id` (String) TrafficPolicy identifier

<a id="nestedatt--geos"></a>
### Nested Schema for `geos`

Optional:

- `continent` (String) Name of continent
- `country` (String) Name of country
- `subdivision` (String) Name of subdivision (state)


<a id="nestedatt--health_monitors"></a>
### Nested Schema for `health_monitors`

Required:

- `health_monitor` (String) Health-monitor Id


<a id="nestedatt--performance_monitors"></a>
### Nested Schema for `performance_monitors`

Required:

- `performance_monitor` (String) Performance-monitor Id


<a id="nestedatt--providers"></a>
### Nested Schema for `providers`

Required:

- `service_provider` (String) Service provider Id
- `weight` (Number) Service provider weight

## Import

Import is supported using the following syntax:

```shell
# Traffic policy can be imported by specifying service-id,traffic-policy-id
terraform import ioriver_traffic_policy.example "32489068-0ad6-4823-8c5d-9f4e4c458f93,813d91ff-c2f1-489e-999b-af7f35d73d03"
```
