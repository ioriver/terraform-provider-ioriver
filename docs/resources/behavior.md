---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "ioriver_behavior Resource - terraform-provider-ioriver"
subcategory: ""
description: |-
  Behavior resource that includes a list of actions to apply
---

# ioriver_behavior (Resource)

Behavior resource that includes a list of actions to apply

## Example Usage

```terraform
resource "ioriver_behavior" "example_behavior" {
  service      = ioriver_service.service.id
  name         = "example-behavior"
  path_pattern = "/static/*"
  actions = [
    {
      cache_behavior = "CACHE"
    },
    {
      cached_methods = [
        {
          method = "GET"
        },
        {
          method = "HEAD"
        },
      ]
    },
    {
      cache_ttl = 86400
    },
    {
      cache_key = {
        headers = [
          {
            header = "host"
          },
          {
            header = "origin"
          },
        ],
        cookies = [],
        query_strings = {
          type = "include"
          list = [
            {
              param = "p1"
            },
            {
              param = "p2"
            },
          ]
        },
      },
    },
    {
      browser_cache_ttl = 120
    },
    {
      response_header = {
        header_name  = "foo"
        header_value = "bar"
      }
    },
    {
      delete_response_header = "server"
    },
    {
      request_header = {
        header_name  = "foo-1"
        header_value = "bar-1"
      }
    },
    {
      cors_header = {
        header_name  = "Access-Control-Allow-Origin"
        header_value = "*"
      }
    },
    {
      status_code_cache = {
        status_code    = "204"
        cache_behavior = "CACHE"
        cache_ttl      = 60
      }
    },
    {
      host_header = {
        use_origin_host = true
      }
    },
    {
      viewer_protocol = "REDIRECT_HTTP_TO_HTTPS"
    },
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `actions` (Attributes Set) Set of actions to apply on the path pattern. Each element in the set defines a single action. (see [below for nested schema](#nestedatt--actions))
- `name` (String) Behavior name
- `path_pattern` (String) Path pattern to apply the behavior
- `service` (String) The id of the service this behavior belongs to

### Optional

- `is_default` (Boolean) Is this the default behavior

### Read-Only

- `id` (String) Behavior identifier

<a id="nestedatt--actions"></a>
### Nested Schema for `actions`

Optional:

- `allowed_methods` (Attributes Set) Set of allowed HTTP methods (see [below for nested schema](#nestedatt--actions--allowed_methods))
- `auto_minify` (String) Use the provided auto-minify configuration
- `browser_cache_ttl` (Number) Set the value of the browser cache TTL (Cache-Control)
- `bypass_cache_on_cookie` (String) Bypass cache if the provided cookie exists
- `cache_behavior` (String) Cache behavior type: CACHE or BYPASS
- `cache_key` (Attributes) Custom cache key configuration (see [below for nested schema](#nestedatt--actions--cache_key))
- `cache_ttl` (Number) Set the value of the edge cache TTL
- `cached_methods` (Attributes Set) Set of HTTP methods which will be cached (see [below for nested schema](#nestedatt--actions--cached_methods))
- `compression` (Boolean) Enable or disable compression
- `cors_header` (Attributes) CORS header to be added within the response (see [below for nested schema](#nestedatt--actions--cors_header))
- `delete_request_header` (String) Header name to be deleted from the request
- `delete_response_header` (String) Header name to be deleted from the response
- `follow_redirects` (Boolean) Enable follow redirect in case origin returns a redirect response
- `forward_client_header` (String) Header to be forwarded to the origin
- `generate_preflight_response` (Attributes) Define auto generate preflight response (see [below for nested schema](#nestedatt--actions--generate_preflight_response))
- `generate_response` (Attributes) Generate a custome response for specific status code(s) (see [below for nested schema](#nestedatt--actions--generate_response))
- `host_header` (Attributes) Override the Host header sent to the origin with the specified value (see [below for nested schema](#nestedatt--actions--host_header))
- `large_files_optimization` (Boolean) Enable cache optimization for large files. This is required for files larger than 20MB
- `origin_cache_control` (Boolean) Enable origin cache control
- `origin_error_pass_through` (Boolean) Enable origin error pass through
- `override_origin` (String) Value of origin id
- `redirect` (String) Send a redirect response
- `request_header` (Attributes) Header to be added to the request sent to the origin (see [below for nested schema](#nestedatt--actions--request_header))
- `response_header` (Attributes) Header to be added to the response (see [below for nested schema](#nestedatt--actions--response_header))
- `stale_ttl` (Number) Set value of stale TTL (in case of origin issue, the CDN will serve stale content for that period of time)
- `status_code_browser_cache` (Attributes) Define browser cache configuration for status code(s) (see [below for nested schema](#nestedatt--actions--status_code_browser_cache))
- `status_code_cache` (Attributes) Define edge cache configuration for status code(s) (see [below for nested schema](#nestedatt--actions--status_code_cache))
- `stream_logs` (Attributes) Define streaming of unifield logs (see [below for nested schema](#nestedatt--actions--stream_logs))
- `viewer_protocol` (String) Allowed viewer protocol - can be one of the following: HTTPS_ONLY, HTTP_AND_HTTPS, or REDIRECT_HTTP_TO_HTTPS.

<a id="nestedatt--actions--allowed_methods"></a>
### Nested Schema for `actions.allowed_methods`

Required:

- `method` (String) Allowed HTTP Method


<a id="nestedatt--actions--cache_key"></a>
### Nested Schema for `actions.cache_key`

Required:

- `cookies` (Attributes Set) Set of cookies to include in the cache key (see [below for nested schema](#nestedatt--actions--cache_key--cookies))
- `headers` (Attributes Set) Set of headers to include in the cache key (see [below for nested schema](#nestedatt--actions--cache_key--headers))
- `query_strings` (Attributes) Cache key query strings configuration (see [below for nested schema](#nestedatt--actions--cache_key--query_strings))

<a id="nestedatt--actions--cache_key--cookies"></a>
### Nested Schema for `actions.cache_key.cookies`

Required:

- `cookie` (String) Cookie name


<a id="nestedatt--actions--cache_key--headers"></a>
### Nested Schema for `actions.cache_key.headers`

Required:

- `header` (String) Header name


<a id="nestedatt--actions--cache_key--query_strings"></a>
### Nested Schema for `actions.cache_key.query_strings`

Required:

- `list` (Attributes Set) Set of query strings to include or exclude in the cache key (see [below for nested schema](#nestedatt--actions--cache_key--query_strings--list))
- `type` (String) Type of the set: include, exclude, all or none

<a id="nestedatt--actions--cache_key--query_strings--list"></a>
### Nested Schema for `actions.cache_key.query_strings.type`

Required:

- `param` (String) Query param to include/exclude




<a id="nestedatt--actions--cached_methods"></a>
### Nested Schema for `actions.cached_methods`

Required:

- `method` (String) Method to be cached


<a id="nestedatt--actions--cors_header"></a>
### Nested Schema for `actions.cors_header`

Required:

- `header_name` (String) Name of the CORS header to be added in the response
- `header_value` (String) Value of the header to be added in the response


<a id="nestedatt--actions--generate_preflight_response"></a>
### Nested Schema for `actions.generate_preflight_response`

Required:

- `max_age` (Number) Response cache TTL (value of `Access-Control-Max-Age` response header)

Optional:

- `allowed_methods` (Attributes Set) Set of allowed HTTP methods (see [below for nested schema](#nestedatt--actions--generate_preflight_response--allowed_methods))

<a id="nestedatt--actions--generate_preflight_response--allowed_methods"></a>
### Nested Schema for `actions.generate_preflight_response.allowed_methods`

Required:

- `method` (String) Allowed HTTP Method



<a id="nestedatt--actions--generate_response"></a>
### Nested Schema for `actions.generate_response`

Required:

- `response_page_path` (String) Path of the custom response page
- `status_code` (String) Status code to generate custome response for (1xx,2xx,.. can be used for ranges)


<a id="nestedatt--actions--host_header"></a>
### Nested Schema for `actions.host_header`

Optional:

- `header_value` (String) Value of the host header
- `use_origin_host` (Boolean) Use the origin domain name as the Host header for the origin


<a id="nestedatt--actions--request_header"></a>
### Nested Schema for `actions.request_header`

Required:

- `header_name` (String) Name of the header to be added to the request
- `header_value` (String) Value of the header to be added to the request


<a id="nestedatt--actions--response_header"></a>
### Nested Schema for `actions.response_header`

Required:

- `header_name` (String) Name of the header to be added to the response
- `header_value` (String) Value of the header to be added to the response


<a id="nestedatt--actions--status_code_browser_cache"></a>
### Nested Schema for `actions.status_code_browser_cache`

Required:

- `browser_cache_ttl` (Number) Value of browser cache TTL
- `status_code` (String) Status code to apply the configuratoin for (1xx,2xx,.. can be used for ranges)


<a id="nestedatt--actions--status_code_cache"></a>
### Nested Schema for `actions.status_code_cache`

Required:

- `cache_behavior` (String) Cache behavior type: CACHE or BYPASS
- `cache_ttl` (Number) Value of edge cache TTL
- `status_code` (String) Status code to apply the configuratoin for (1xx,2xx,.. can be used for ranges)


<a id="nestedatt--actions--stream_logs"></a>
### Nested Schema for `actions.stream_logs`

Required:

- `unified_log_destination` (String) Destination for the logs streaming
- `unified_log_sampling_rate` (Number) Sampling rate for the logs (1-100)

## Import

Import is supported using the following syntax:

```shell
# Behavior can be imported by specifying service-id,behavior-id
terraform import ioriver_behavior.example "32489068-0ad6-4823-8c5d-9f4e4c458f93,813d91ff-c2f1-489e-999b-af7f35d73d03"
```
